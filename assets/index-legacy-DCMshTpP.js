System.register(["./index-legacy-BIw6wWtP.js"],(function(a,e){"use strict";var r,o,n,i,l,t,s,c,d,v,u,g,m,p,h,f,y,w,b,_,z,x,S,k,A,L,P,$,I,j;return{setters:[a=>{r=a.j,o=a.d,n=a.v,i=a.ca,l=a.c,t=a.bl,s=a.by,c=a.w,d=a.bs,v=a.cb,u=a.m,g=a.s,m=a.t,p=a.aD,h=a.G,f=a.c6,y=a.E,w=a.A,b=a.aK,_=a.n,z=a.aH,x=a.u,S=a.cc,k=a.cd,A=a.ce,L=a.Z,P=a.cf,$=a.cg,I=a.ch,j=a.ci}],execute:function(){var e=document.createElement("style");e.textContent=":root{--van-image-placeholder-text-color: var(--van-text-color-2);--van-image-placeholder-font-size: var(--van-font-size-md);--van-image-placeholder-background-color: var(--van-background-color);--van-image-loading-icon-size: .85333rem;--van-image-loading-icon-color: var(--van-gray-4);--van-image-error-icon-size: .85333rem;--van-image-error-icon-color: var(--van-gray-4)}.van-image{position:relative;display:inline-block}.van-image--round{overflow:hidden;border-radius:var(--van-border-radius-max)}.van-image--round .van-image__img{border-radius:inherit}.van-image__img,.van-image__error,.van-image__loading{display:block;width:100%;height:100%}.van-image__error,.van-image__loading{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--van-image-placeholder-text-color);font-size:var(--van-image-placeholder-font-size);background:var(--van-image-placeholder-background-color)}.van-image__loading-icon{color:var(--van-image-loading-icon-color);font-size:var(--van-image-loading-icon-size)}.van-image__error-icon{color:var(--van-image-error-icon-color);font-size:var(--van-image-error-icon-size)}\n",document.head.appendChild(e),a({a:function(a,e,r=x().chain,o="raydium"){return z({method:"get",url:"/v1api/v2/aveswap/getpair",params:{chain:r,amm:o,token0_address:a,token1_address:e}})},b:function(a=x().chain,e=x().walletAddress){return a&&e?"solana"===a?S(e):z({method:"get",url:"/v1api/v3/users/balance/token",params:{address:e,chain:a}}):Promise.resolve([])},c:async function(a,e=x().chain,r=x().walletAddress){if(!r)return a?.map((()=>"0"));let{_provider:o}=k(e);const n=new A;await n.init(o);let i=a.filter((a=>a!==L)).map((a=>new P(a,$).balanceOf(r))),l=await n.tryAll(i),t=a.findIndex((a=>a===L));if(t>=0){let a=0;try{a=r?await o.getBalance(r):0}catch(s){console.log(s)}l.splice(t,0,a)}return l.map((a=>null!==a?a.toString():"0"))},d:async function(a=x().chain,e=x().walletAddress){return a&&e?"solana"===a?(console.log("lpHistorySolana",j("lpHistorySolana",{},localStorage).value,e),j("lpHistorySolana",{},localStorage).value?.[e]):z({method:"get",url:`/v1api/v3/pairs/${e}-${a}/userliq`}):Promise.resolve([])},g:async function(a=x().chain,e=x().walletAddress,r=""){return a&&e?"solana"===a?r?[]:I(e):z({method:"get",url:"/v1api/v3/users/balance/lp",params:{address:e,chain:a,pair:r}}):Promise.resolve([])},s:function(a,e){return z({method:"get",url:"/v1api/v2/tokens/query4swap",params:{keyword:a,chain:e}})},u:function(a,e=x().chain,r=x().walletAddress){return z({method:"post",url:"/v1api/v3/users/balance/updateLp",data:{address:r,pair:a,chain:e}})}});const[E,H]=r("image"),B={src:String,alt:String,fit:String,position:String,round:Boolean,width:g,height:g,radius:g,lazyLoad:Boolean,iconSize:g,showError:m,errorIcon:p("photo-fail"),iconPrefix:String,showLoading:m,loadingIcon:p("photo")};var q=o({name:E,props:B,emits:["load","error"],setup(a,{emit:e,slots:r}){const o=n(!1),g=n(!0),m=n(),{$Lazyload:p}=i().proxy,_=l((()=>{const e={width:t(a.width),height:t(a.height)};return s(a.radius)&&(e.overflow="hidden",e.borderRadius=t(a.radius)),e}));c((()=>a.src),(()=>{o.value=!1,g.value=!0}));const z=a=>{g.value=!1,e("load",a)},x=a=>{o.value=!0,g.value=!1,e("error",a)},S=(e,r,o)=>o?o():u(b,{name:e,size:a.iconSize,class:r,classPrefix:a.iconPrefix},null),k=()=>{if(o.value||!a.src)return;const e={alt:a.alt,class:H("img"),style:{objectFit:a.fit,objectPosition:a.position}};return a.lazyLoad?h(u("img",y({ref:m},e),null),[[f("lazy"),a.src]]):u("img",y({src:a.src,onLoad:z,onError:x},e),null)},A=({el:a})=>{const e=()=>{a===m.value&&g.value&&z()};m.value?e():w(e)},L=({el:a})=>{a!==m.value||o.value||x()};return p&&d&&(p.$on("loaded",A),p.$on("error",L),v((()=>{p.$off("loaded",A),p.$off("error",L)}))),()=>{var e;return u("div",{class:H({round:a.round}),style:_.value},[k(),g.value&&a.showLoading?u("div",{class:H("loading")},[S(a.loadingIcon,H("loading-icon"),r.loading)]):o.value&&a.showError?u("div",{class:H("error")},[S(a.errorIcon,H("error-icon"),r.error)]):void 0,null==(e=r.default)?void 0:e.call(r)])}}});a("I",_(q))}}}));
