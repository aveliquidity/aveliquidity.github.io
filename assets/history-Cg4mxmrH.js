import{j as I,t as N,s as G,bv as J,aD as Q,d as T,aE as X,v as b,k as Z,c1 as ee,c as E,by as te,c2 as oe,bx as se,m as _,bh as ae,ba as ne,c3 as le,bk as re,x as ce,l as ie,c4 as de,be as ue,bj as W,G as R,H as j,bg as pe,F as me,c5 as _e,aK as ve,n as q,I as fe,u as S,Y as A,U as B,J as he,c6 as ye,b as z,L as H,f as U,e as F,N as n,M as l,P as we,O as f,Q as xe,R as ke,X as be,b2 as ge,c7 as Ce,c8 as Pe,V as M,a0 as Oe}from"./index-CJdFXsl4.js";import{E as $e}from"./index-ytiwzfqr.js";import{I as Ve,d as ze}from"./index-BJZw8jlO.js";const[K,D]=I("dropdown-menu"),Ee={overlay:N,zIndex:G,duration:J(.2),direction:Q("down"),activeColor:String,closeOnClickOutside:N,closeOnClickOverlay:N},Y=Symbol(K);var Se=T({name:K,props:Ee,setup(c,{slots:x}){const i=X(),r=b(),h=b(),y=b(0),{children:v,linkChildren:O}=Z(Y),g=ee(r),k=E(()=>v.some(e=>e.state.showWrapper)),$=E(()=>{if(k.value&&te(c.zIndex))return{zIndex:+c.zIndex+1}}),C=()=>{c.closeOnClickOutside&&v.forEach(e=>{e.toggle(!1)})},P=()=>{if(h.value){const e=ne(h);c.direction==="down"?y.value=e.bottom:y.value=le.value-e.top}},V=()=>{k.value&&P()},d=e=>{v.forEach((a,o)=>{o===e?(P(),a.toggle()):a.state.showPopup&&a.toggle(!1,{immediate:!0})})},s=(e,a)=>{const{showPopup:o}=e.state,{disabled:p,titleClass:m}=e;return _("div",{id:"".concat(i,"-").concat(a),role:"button",tabindex:p?void 0:0,class:[D("item",{disabled:p}),{[ae]:!p}],onClick:()=>{p||d(a)}},[_("span",{class:[D("title",{down:o===(c.direction==="down"),active:o}),m],style:{color:o?c.activeColor:""}},[_("div",{class:"van-ellipsis"},[e.renderTitle()])])])};return O({id:i,props:c,offset:y}),oe(r,C),se("scroll",V,{target:g,passive:!0}),()=>{var e;return _("div",{ref:r,class:D()},[_("div",{ref:h,style:$.value,class:D("bar",{opened:k.value})},[v.map(s)]),(e=x.default)==null?void 0:e.call(x)])}}});const[De,L]=I("dropdown-item"),Le={title:String,options:ue(),disabled:Boolean,teleport:[String,Object],lazyRender:N,modelValue:W,titleClass:W};var Ne=T({name:De,props:Le,emits:["open","opened","close","closed","change","update:modelValue"],setup(c,{emit:x,slots:i}){const r=re({showPopup:!1,transition:!0,showWrapper:!1}),{parent:h,index:y}=ce(Y);if(!h)return;const v=e=>()=>x(e),O=v("open"),g=v("close"),k=v("opened"),$=()=>{r.showWrapper=!1,x("closed")},C=e=>{c.teleport&&e.stopPropagation()},P=(e=!r.showPopup,a={})=>{e!==r.showPopup&&(r.showPopup=e,r.transition=!a.immediate,e&&(r.showWrapper=!0))},V=()=>{if(i.title)return i.title();if(c.title)return c.title;const e=c.options.find(a=>a.value===c.modelValue);return e?e.text:""},d=e=>{const{activeColor:a}=h.props,o=e.value===c.modelValue,p=()=>{r.showPopup=!1,e.value!==c.modelValue&&(x("update:modelValue",e.value),x("change",e.value))},m=()=>{if(o)return _(ve,{class:L("icon"),color:a,name:"success"},null)};return _(me,{role:"menuitem",key:e.value,icon:e.icon,title:e.text,class:L("option",{active:o}),style:{color:o?a:""},tabindex:o?0:-1,clickable:!0,onClick:p},{value:m})},s=()=>{const{offset:e}=h,{zIndex:a,overlay:o,duration:p,direction:m,closeOnClickOverlay:t}=h.props,u=_e(a);return m==="down"?u.top="".concat(e.value,"px"):u.bottom="".concat(e.value,"px"),R(_("div",{style:u,class:L([m]),onClick:C},[_(pe,{show:r.showPopup,"onUpdate:show":w=>r.showPopup=w,role:"menu",class:L("content"),overlay:o,position:m==="down"?"top":"bottom",duration:r.transition?p:0,lazyRender:c.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":"".concat(h.id,"-").concat(y.value),closeOnClickOverlay:t,onOpen:O,onClose:g,onOpened:k,onClosed:$},{default:()=>{var w;return[c.options.map(d),(w=i.default)==null?void 0:w.call(i)]}})]),[[j,r.showWrapper]])};return ie({state:r,toggle:P,renderTitle:V}),()=>c.teleport?_(de,{to:c.teleport},{default:()=>[s()]}):s()}});const Ae=q(Ne),Be=q(Se),He={class:"pb-50px"},Me={class:"flex items-center"},Re={class:"text-size-[14px] w-100% table-history color-#333"},Te={class:"text-size-[12px] color-[#999] t-header"},We={class:"text-left font-400"},Ue={class:"text-center font-400"},Fe={class:"text-right font-400"},Ie=["onClick"],je={class:"text-left font-400"},qe={class:"color-[#999] text-size-[12px]"},Ke={class:"text-center font-400"},Ye={class:"w-100% font-400"},Ge={class:"text-right color-[#333]"},Je={class:"text-left color-[#999]"},Qe={class:"text-right color-[#333]"},Xe={class:"text-left color-[#999]"},Ze={class:"text-right font-400"},et={class:"flex items-center justify-end"},tt={class:"color-[#999] text-size-[12px]"},ot=T({__name:"history",setup(c){const x=new URL("/assets/icon-default-NkrxpoEr.png",import.meta.url).href,{t:i}=fe();let r=b(""),h=E(()=>{var p,m;let d=[],s=[],e=[],a=S().chain,o=A(a);return(m=(p=g.value)==null?void 0:p.forEach)==null||m.call(p,t=>{let u=t.token0_address===(o==null?void 0:o.wmain_wrapper)?o==null?void 0:o.main_name:t.token0_symbol;d.includes(u)||(d.push(u),s.push(B("".concat(t.token0_address,"-").concat(t.chain))),e.push("".concat(t.token0_address,"-").concat(t.chain)));let w=t.token1_address===(o==null?void 0:o.wmain_wrapper)?o==null?void 0:o.main_name:t.token1_symbol;d.includes(w)||(d.push(w),s.push(B("".concat(t.token1_address,"-").concat(t.chain))),e.push("".concat(t.token1_address,"-").concat(t.chain)))}),[{text:i("allToken"),value:"",icon:"",id:""}].concat(d.map((t,u)=>({text:t,value:e[u],icon:s[u],id:e[u]})))}),y=E(()=>h.value.find(d=>d.id===r.value)),v=b(""),O=b([{text:i("allTypes"),value:""},{text:i("add"),value:"addLiquidity"},{text:i("remove"),value:"removeLiquidity"}]),g=b([]),k=b(!1);function $(){let d=S().chain,s=S().walletAddress;k.value=!0,ze(d,s).then(e=>{console.log(e),g.value=e}).finally(()=>{k.value=!1})}let C=E(()=>{var e,a;let d=S().chain,s=A(d);return((a=(e=g.value)==null?void 0:e.filter)==null?void 0:a.call(e,o=>{var t,u;let p=o.token0_address===(s==null?void 0:s.wmain_wrapper)?s==null?void 0:s.main_name:o.token0_symbol,m=o.token1_address===(s==null?void 0:s.wmain_wrapper)?s==null?void 0:s.main_name:o.token1_symbol;return(o.type===v.value||v.value==="")&&(p===((t=y.value)==null?void 0:t.text)||m===((u=y.value)==null?void 0:u.text)||r.value==="")}))||[]});function P(d,s,e){let a=A(s);return d===(a==null?void 0:a.wmain_wrapper)?a==null?void 0:a.main_name:e}function V(){$()}return he(()=>{V()}),(d,s)=>{const e=Ve,a=Ae,o=Be,p=$e,m=ye("imageError");return z(),H("section",He,[_(o,{"active-color":"#3F80F7"},{default:U(()=>[R((z(),F(a,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=t=>r.value=t),options:l(h),class:"dropdown-item-1"},{title:U(()=>{var t,u,w;return[n("div",Me,[(t=l(y))!=null&&t.id?(z(),F(e,{key:0,class:"icon-token mr-5px",round:"",width:"0.5rem",height:"0.5rem","icon-size":"0.5rem","lazy-load":"","show-loading":"",src:l(B)(((u=l(y))==null?void 0:u.id)||""),"error-icon":l(x)},null,8,["src","error-icon"])):we("",!0),n("span",null,f(((w=l(y))==null?void 0:w.text)||""),1)])]}),_:1},8,["modelValue","options"])),[[m]]),_(a,{modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=t=>v.value=t),options:O.value},null,8,["modelValue","options"])]),_:1}),n("table",Re,[n("tr",Te,[n("th",We,f(l(i)("type")),1),n("th",Ue,f(l(i)("amount"))+"/"+f(l(i)("token")),1),n("th",Fe,f(l(i)("volume"))+"/AMM",1)]),(z(!0),H(xe,null,ke(l(C),(t,u)=>(z(),H("tr",{key:u,class:"t-row clickable",onClick:be(w=>l(ge)(t.transaction,"tx",t.chain),["stop"])},[n("td",je,[n("div",{style:Ce({color:t.type==="addLiquidity"?"#12B886":"#F6465D"})},f(t.type==="addLiquidity"?l(i)("add"):l(i)("remove")),5),n("div",qe,f(l(Pe)(t.time,"MM-DD HH:mm:ss")),1)]),n("td",Ke,[n("table",Ye,[n("tr",null,[n("td",Ge,f(l(M)(t.amount0)),1),n("td",Je,f(P(t.token0_address,t.chain,t.token0_symbol)),1)]),n("tr",null,[n("td",Qe,f(l(M)(t.amount1)),1),n("td",Xe,f(P(t.token1_address,t.chain,t.token1_symbol)),1)])])]),n("td",Ze,[n("div",null,"$"+f(l(M)(Number(t.amount_usd)<0?Number(t.amount_usd)*-1:t.amount_usd)),1),n("div",et,[_(e,{class:"w-[12px] h-[12px] mr-[5px]",round:"","lazy-load":"",src:"https://ave.s3.ap-east-1.amazonaws.com/swap/".concat(t.amm,".jpeg"),"error-icon":l(x)},null,8,["src","error-icon"]),n("span",tt,f(t.show_name||t.amm||""),1)])])],8,Ie))),128))]),R(_(p,{description:l(i)("noData"),class:"empty"},null,8,["description"]),[[j,l(C)&&l(C).length===0&&!k.value]])])}}}),lt=Oe(ot,[["__scopeId","data-v-a7a12e88"]]);export{lt as default};
