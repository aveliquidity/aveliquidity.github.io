import{j as $,d as T,v as w,ca as U,c as _,bl as y,by as H,w as R,bs as k,cb as D,m as u,s as h,t as I,aD as p,G as N,c6 as j,E,A as q,aK as A,n as K,aH as f,u as o,cc as O,cd as V,ce as F,Z as z,cf as G,cg as M,ch as W,ci as B}from"./index-CJdFXsl4.js";const[Z,d]=$("image"),J={src:String,alt:String,fit:String,position:String,round:Boolean,width:h,height:h,radius:h,lazyLoad:Boolean,iconSize:h,showError:I,errorIcon:p("photo-fail"),iconPrefix:String,showLoading:I,loadingIcon:p("photo")};var Q=T({name:Z,props:J,emits:["load","error"],setup(e,{emit:a,slots:r}){const i=w(!1),l=w(!0),c=w(),{$Lazyload:s}=U().proxy,v=_(()=>{const t={width:y(e.width),height:y(e.height)};return H(e.radius)&&(t.overflow="hidden",t.borderRadius=y(e.radius)),t});R(()=>e.src,()=>{i.value=!1,l.value=!0});const n=t=>{l.value=!1,a("load",t)},g=t=>{i.value=!0,l.value=!1,a("error",t)},L=(t,m,b)=>b?b():u(A,{name:t,size:e.iconSize,class:m,classPrefix:e.iconPrefix},null),x=()=>{if(l.value&&e.showLoading)return u("div",{class:d("loading")},[L(e.loadingIcon,d("loading-icon"),r.loading)]);if(i.value&&e.showError)return u("div",{class:d("error")},[L(e.errorIcon,d("error-icon"),r.error)])},C=()=>{if(i.value||!e.src)return;const t={alt:e.alt,class:d("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?N(u("img",E({ref:c},t),null),[[j("lazy"),e.src]]):u("img",E({src:e.src,onLoad:n,onError:g},t),null)},S=({el:t})=>{const m=()=>{t===c.value&&l.value&&n()};c.value?m():q(m)},P=({el:t})=>{t===c.value&&!i.value&&g()};return s&&k&&(s.$on("loaded",S),s.$on("error",P),D(()=>{s.$off("loaded",S),s.$off("error",P)})),()=>{var t;return u("div",{class:d({round:e.round}),style:v.value},[C(),x(),(t=r.default)==null?void 0:t.call(r)])}}});const Y=K(Q);function ee(e,a){return f({method:"get",url:"/v1api/v2/tokens/query4swap",params:{keyword:e,chain:a}})}function ae(e=o().chain,a=o().walletAddress){return!e||!a?Promise.resolve([]):e==="solana"?O(a):f({method:"get",url:"/v1api/v3/users/balance/token",params:{address:a,chain:e}})}async function re(e=o().chain,a=o().walletAddress,r=""){return!e||!a?Promise.resolve([]):e==="solana"?r?[]:W(a):f({method:"get",url:"/v1api/v3/users/balance/lp",params:{address:a,chain:e,pair:r}})}async function te(e=o().chain,a=o().walletAddress){var r;return!e||!a?Promise.resolve([]):e==="solana"?(console.log("lpHistorySolana",B("lpHistorySolana",{},localStorage).value,a),(r=B("lpHistorySolana",{},localStorage).value)==null?void 0:r[a]):f({method:"get",url:"/v1api/v3/pairs/".concat(a,"-").concat(e,"/userliq")})}async function ne(e,a=o().chain,r=o().walletAddress){if(!r)return e==null?void 0:e.map(()=>"0");let{_provider:i}=V(a);const l=new F;await l.init(i);let c=e.filter(n=>n!==z).map(n=>new G(n,M).balanceOf(r)),s=await l.tryAll(c),v=e.findIndex(n=>n===z);if(v>=0){let n=0;try{n=r?await i.getBalance(r):0}catch(g){console.log(g)}s.splice(v,0,n)}return s.map(n=>n!==null?n.toString():"0")}function oe(e,a=o().chain,r=o().walletAddress){return f({method:"post",url:"/v1api/v3/users/balance/updateLp",data:{address:r,pair:e,chain:a}})}function ie(e,a,r=o().chain,i="raydium"){return f({method:"get",url:"/v1api/v2/aveswap/getpair",params:{chain:r,amm:i,token0_address:e,token1_address:a}})}export{Y as I,ie as a,ae as b,ne as c,te as d,re as g,ee as s,oe as u};
